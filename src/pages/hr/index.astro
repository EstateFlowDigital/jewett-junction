---
import ThemedPage from '../../layouts/themed-page.astro';
import { HRContent } from '../../components/pages/HRContent';
import { initCMS, getHRContent } from '../../lib/webflow-cms';

// Initialize CMS with runtime credentials
initCMS(Astro.locals);

// Fetch HR content server-side
const hrResult = await getHRContent({ limit: 50 });
const hrItems = hrResult.items;
---

<ThemedPage title="HR Resources | Jewett Junction" theme="dark" currentSection="hr">
  <HRContent client:load theme="dark" initialItems={hrItems} />
</ThemedPage>
